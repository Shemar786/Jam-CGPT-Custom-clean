TDAT:     public void guessRules(RuleList rules, boolean nonBranchingOnly) {
        for (int i = 0; i < children.size(); i++)
            getChild(i).guessRules(rules, nonBranchingOnly);
        
        if (compositor != null)
            return;
        
        if (nonBranchingOnly && this.isBranching()) return;
        
        guessCompositionRule(rules);
    }

COM:recursively guesses composition rules for a given rule list and filters out non-branching rules if specified