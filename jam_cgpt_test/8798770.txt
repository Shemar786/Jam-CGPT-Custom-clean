TDAT: 	static public String replaceString(String text, String repl, String with, int max) {
		if(text == null) {
			return null;
		}

		StringBuffer buffer = new StringBuffer(text.length());
		int start = 0;
		int end = 0;
		while( (end = text.indexOf(repl, start)) != -1 ) {
			buffer.append(text.substring(start, end)).append(with);
			start = end + repl.length();

			if(--max == 0) {
				break;
			}
		}
		buffer.append(text.substring(start));

		return buffer.toString();
	}  

COM:replaces the first n occurrences of a given substring in a text with a specified replacement string