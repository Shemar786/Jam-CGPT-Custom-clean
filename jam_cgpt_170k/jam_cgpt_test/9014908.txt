TDAT: 	public NodeList extractAllNodesThatMatch(NodeFilter filter, boolean recursive) {
		Node node;
		NodeList children;
		NodeList ret;

		ret = new NodeList();
		for (int i = 0; i < size; i++) {
			node = nodeData[i];
			if (filter.accept(node))
				ret.add(node);
			if (recursive) {
				children = node.getChildren();
				if (null != children)
					ret.add(children.extractAllNodesThatMatch(filter, recursive));
			}
		}

		return (ret);
	}

COM:extracts all nodes in a NodeList that match a specified filter, optionally recursively searching through their children