TDAT:     private String readLine(InputStream in) throws IOException {
      StringBuffer buf = new StringBuffer();
      int ch;
      while ((ch = in.read()) != -1) {
        if (ch == '\r') {
          in.read();
          break;
        } else {
          buf.append((char) ch);
        }
      }
      return buf.toString();
    }

COM:reads a line from an input stream and returns it as a String, while also handling the carriage return character